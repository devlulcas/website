---
import type { PostFrontmatter } from "../types/markdown";
import Tag from "./Tag.astro";

interface Props {
  metadata: PostFrontmatter;
}

const { metadata } = Astro.props;
---

<!-- HTML -->
<article data-interactable="true">
  <a aria-label={metadata.title} href={"/blog/" + metadata.slug}>
    <picture>
      <img src={"https://via.placeholder.com/150"} alt={metadata.title} />
    </picture>
  </a>
  <div class="content">
    <a aria-label={metadata.title} href={"/blog/" + metadata.slug}>
      <h3 class="title">{metadata.title}</h3>
    </a>

    <a aria-label={metadata.title} href={"/blog/" + metadata.slug}>
      <p class="excerpt">{metadata.excerpt}</p>
    </a>

    <p class="date">
      Publicado em:
      <time class="datetime" datetime={metadata.date}>{metadata.date}</time>
    </p>

    <ul class="tags">
      {metadata.tags.map((tag) => <Tag href={`/blog/tags/${tag}`}>{tag}</Tag>)}
    </ul>
  </div>
</article>

<!-- STYLES - SCSS -->
<style lang="scss">
  article {
    font-size: clamp(1.2rem, 1vw, 1.5rem);
    color: var(--on-surface);
    background: var(--surface);
    padding: 1rem;
    display: flex;
    gap: 1rem;
    border-radius: 0.5rem;
    box-shadow: var(--light-shadow);
  }

  picture {
    display: flex;
    align-items: center;
    height: 10rem;
    aspect-ratio: 1 / 1;
    background: var(--on-surface);
    border-radius: 0.5rem;
    overflow: hidden;

    @media screen and (min-width: 90rem) {
      height: 15rem;
    }
  }

  img {
    height: 10rem;
    aspect-ratio: 1 / 1;

    @media screen and (min-width: 90rem) {
      height: 15rem;
    }
  }

  a {
    display: block;
    text-decoration: none;
    color: var(--on-surface);
  }

  .content {
    padding: 0.5rem 0;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    justify-content: space-between;
  }

  .title {
    font-size: clamp(1.4rem, 2vw, 2rem);
  }

  .date {
    padding-top: 1rem;
    font-weight: 400;
  }

  .datetime {
    font-weight: 600;
  }

  .tags {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
  }
</style>
